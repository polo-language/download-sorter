apply plugin: 'java'
apply plugin: 'jacoco'

repositories {
    mavenCentral()
}

dependencies {
    testCompile 'junit:junit:4.12'
}

final def testDirName = 'test'
final def testOriginalsDirName = 'originals'
final def testOutDirName = "$buildDir/tmp-test"

task testPrepCleanup(type: Delete) {
    delete fileTree(dir: testOutDirName, include: '*')
}

task testPrepDuplicateInputs(type: Copy) {
    from "$testDirName/$testOriginalsDirName"
    into "$testOutDirName/singlerun"
}

test.dependsOn {
    testPrepCleanup
    testPrepDuplicateInputs
}
